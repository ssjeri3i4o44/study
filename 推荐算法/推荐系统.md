# 推荐系统

# 1.推荐系统的应用

电子商务、电影和视频网站、个性化音乐网络电台、社交网络、个性化阅读、基于位置服务、个性化邮件、个性化广告

推荐系统的参与者：用户，网站和内容提供方

## 评测标准：

- **实验方法**：

  - **离线实验**：只要从一个实际系统日志中提取数据即可，可快速计算出来。但无法获取很多商业上关注的指标，如点击率、转化率等。

    |           优点           |              缺点              |
    | :----------------------: | :----------------------------: |
    | 不需要对实际系统的控制权 |    无法计算商业上关注的指标    |
    |    不需要用户参与实验    | 离线实验指标和商业指标存在差距 |
    | 速度快，可以测试大量算法 |                                |

  - **用户调查**

    优点：是可以获得很多体现用户主观感受的指标，相对在线实验风险很低，出现错误后很容易弥补；

    缺点：是招募测试用户代价较大，很难组织大规模的测试用户，因此会使测试结果的统计意义不足。

  - **在线实验**：

    AB测试，通过一定的规则将用户随机分成几组， 并对不同组的用户采用不同的算法，然后通过统计不同组用户的各种不同的评测指标比较不同算法。

    优点：可以公平获取不同算法实际在线时的性能指标，包括商业上关注的指标。

    缺点：是周期比较长，必须进行长期的实验才能得到可靠的结果。因此一般不会用 AB测试测试所有的算法，而只是用它测试那些在离线实验和用户调查中表现很好的算法。

    **推荐系统实现的实验流程**：

    - [ ] 通过离线实验证明他在很多离线指标上优于现有算法；
    - [ ] 通过用户调查缺点他的用户满意度不低于现有算法；
    - [ ] 通过在线的AB测试确定他在我们关心的指标上优于现有算法。

- **评测指标**

  - **用户满意度**：是评测推荐系统的最重要指标。但用户满意度没办法离线计算，只能通过**用户调查**或**在线做实验**获得。

  - **预测准确度**：度量一个推荐系统预测用户行为的能力：

    - [ ] **评分预测：**用户打分系统。评分预测的预测度一般通过均方根误差（RMSE）和平均绝对误差（MAE）计算。

    - [ ] **TopN推荐：**TopN推荐的预测准确率一般通过准确率（precision）/召回率（recall）度量。

      召回率：推荐的列表中有多少是用户真正感兴趣的；

      准确率：用户感兴趣的有多少推荐了。

  - **覆盖率：**描述一个推荐系统对物品长尾的发掘能力。定义：推荐系统能够推荐出来的物品占总物品集合的比例。可以用信息熵或者基尼指数来定义。

    ​       覆盖率：最终推荐列表中包含多大比例的商品。

  - **多样性：**性描述了推荐列表中物品两两之间的不相似性。推荐系统的整体多样性可以定义为所有用户推荐列表多样性的平均值。

  - **新颖性：**指给用户推荐那些他们以前没有听说过的物品。

    ​             如果推荐是物品都很热门，说明推荐的新颖度比较低。

  - **惊喜度：**目前无明确指标

  - **信任度：**1.增加推荐系统的透明度，提供推荐解释；2.考虑用户社交网络信息,利用好友信息给用户做推荐。

  - **实时性：**1.实时更新列表来满足用户新的行为变化；2.将新加入的物品推荐给用户。

  - **健壮性：**衡量一个推荐系统抗击作弊的能力。

- **评测维度：**



# 2.用户行为

用户行为在个性化推荐系统中一般分为：

显性反馈行为:用户明确表示对物品喜好的行为。

隐性反馈行为:如页面浏览行为

## 2.2 用户行为分析

- [ ] 长尾分布：在英文中大部分词的词频其实很低，只有很少的词被经常使用。

$$
f(x) = \alpha x^k
$$

- [ ] 用户越活越，越倾向于浏览冷门物品

仅仅基于用户行为数据的数据设计的推荐算法一般称为协同过滤算法：

- 基于领域的方法：基于用户的协同过滤，基于物品的协同过滤
- 隐语义模型
- 基于图的随机游走算法

### 2.3 UserCF & ItemCF

IUF（Inverse User Frequence）：活跃用户对物品相似度的贡献应该小于不活跃的用户。

IUF参数，用户活跃度对数的倒数的参数修正物品相似度。

Itemcf-IUF提高推荐结果的覆盖率，降低推荐结果的流行度。

**物品相似度归一化**：将ItemCF的相似度矩阵按最大值归一化，可以提高推荐的准确率，多样性和覆盖率。

![](E:\高慧云\github\study\推荐算法\ItemCF & UserCF.png)



## 2.5 隐语义模型

负采样：对每个用户，要保证正负样本的平衡（数目相似）；对每个用户采样负样本时，要选取那些很热门，而用户却没有行为的物品。

将矩阵R分解为矩阵P和矩阵Q的乘积，即通过用户当前的物品偏好信息将用户和物品联系起来。

隐语义模型会把物品分为K个类型，矩阵P表示对用户对各分类的喜爱程度，矩阵Q表示物品属于某一类的权重。

损失函数：P = RQ+||R||2+||Q||2

缺点：难实时推荐